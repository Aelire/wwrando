---
default_progression:
  name: Default (Progression)
  description: >
    Randomize all progression settings, with classic weights from RSL season 1.<br>
    Convenience tweaks, difficulty settings and number of hints are not randomized, 
    letting you customize for an easier or harder experience
  weights:
    - name: dungeons_combo
      tree:
        root:
          name: progression_dungeons
          weight: 80%
        branches:
          true:
            name: required_bosses
            weight: 90%
          false:
            name: required_bosses
            weight: 0
    - name: progression_great_fairies
      weight: 50%
    - name: progression_puzzle_secret_caves
      weight: 50%
    - name: progression_combat_secret_caves
      weight: 50%
    - name: progression_short_sidequests
      weight: 50%
    - name: progression_long_sidequests
      weight: 20%
    - name: progression_spoils_trading
      weight: 10%
    - name: progression_minigames
      weight: 50%
    - name: progression_free_gifts
      weight: 80%
    - name: progression_mail
      weight: 50%
    - name: progression_platforms_rafts
      weight: 50%
    - name: progression_submarines
      weight: 50%
    - name: progression_eye_reef_chests
      weight: 50%
    - name: progression_big_octos_gunboats
      weight: 50%
    - name: progression_triforce_charts
      weight: 20%
    - name: progression_treasure_charts
      weight: 5%
    - name: progression_expensive_purchases
      weight: 20%
    - name: progression_misc
      weight: 50%
    - name: progression_tingle_chests
      weight: 50%
    - name: progression_battlesquid
      weight: 20%
    - name: progression_savage_labyrinth
      weight: 35%
    - name: progression_island_puzzles
      weight: 50%
    - name: progression_dungeon_secrets
      weight: 50%

    - name: keylunacy
      weight: 40%
    - name: randomize_dungeon_entrances
      weight: 50%
    - name: randomize_secret_cave_entrances
      weight: 30%
    - name: randomize_secret_cave_inner_entrances
      weight: 50%
    - name: randomize_boss_entrances
      weight: 50%
    - name: randomize_miniboss_entrances
      weight: 50%
    - name: randomize_fairy_fountain_entrances
      weight: 50%
    - name: mix_entrances
      choices:
        "Separate Dungeons From Caves & Fountains": 3/4
        "Mix Dungeons & Caves & Fountains": 1/4
    - name: randomize_starting_island
      weight: 100%
    - name: chest_type_matches_contents
      weight: 100%

    - name: prioritize_remote_hints
      weight: 100%
    - name: num_starting_triforce_shards
      choices:
        0: 60%
        1: 9%
        2: 8%
        3: 8%
        4: 5%
        5: 5%
        6: 2%
        7: 2%
        8: 1%
    - name: sword_mode
      choices:
        "Start with Hero's Sword": 60%
        "No Starting Sword": 40%
    - name: num_required_bosses
      choices:
        1: 5%
        2: 15%
        3: 25%
        4: 30%
        5: 15%
        6: 10%

    - name: trap_chests
      weight: 50%
    - name: hint_placement
      combo: ["fishmen_hints", "hoho_hints", "korl_hints", "stone_tablet_hints"]
      choices: !!omap
        - ["hoho_hints"]: 10%
        - ["korl_hints"]: 80%
        - ["stone_tablet_hints"]: 10%
    - name: num_extra_starting_items
      choices:
        0: 25%
        1: 40%
        2: 25%
        3: 10%
    # When starting_gear is randomized, randomized_gear is also managed by the settings randomizer
    # and cannot be set by the user anymore
    - name: randomized_gear
      disable:
      managed: true
    - name: starting_gear
      indiv_weights: !!omap
        - ["Telescope", "Ballad of Gales", "Song of Passing"]: 100%
        - !!python/name:logic.item_types.DUNGEON_NONPROGRESS_ITEMS : 80%

default_difficulty:
  name: Default (Difficulty)
  description: >
    Choose your progression, randomize difficulty! All of the progression
    settings are up to you, but the randomizer will choose how many hints you
    get, starting items, hero mode, etc
  weights:
    - name: randomize_charts
      weight: 50%
    - name: randomize_starting_island
      weight: 1
    - name: prioritize_remote_hints
      weight: 60%
    - name: num_path_hints
      choices:
        2: 1/6
        3: 1/6
        4: 1/6
        5: 1/6
        6: 1/6
        8: 1/6
    - name: num_barren_hints
      choices:
        2: 1/6
        3: 1/6
        4: 1/6
        5: 1/6
        6: 1/6
        7: 1/6
    - name: num_location_hints
      choices:
        4: 1/7
        5: 1/7
        6: 1/7
        7: 1/7
        8: 1/7
        9: 1/7
        10: 1/7
    - name: num_item_hints
      choices:
        0: 50%
        1: 25%
        2: 15%
        3: 10%
    - name: cryptic_hints
      weight: 40%
    - name: add_shortcut_warps_between_dungeons
      weight: 80%
    - name: starting_pohs
      choices:
        0: 48%
        1: 10%
        2: 20%
        3: 10%
        4: 5%
        5: 5%
        6: 2%
    - name: starting_hcs
      choices:
        1: 5%
        2: 8%
        3: 70%
        4: 10%
        6: 5%
        9: 2%
    - name: skip_rematch_bosses
      weight: 75%
    - name: trap_chests
      weight: 50%
    - name: hero_mode
      weight: 10%
    # When starting_gear is randomized, randomized_gear is also managed by the settings randomizer
    # and cannot be set by the user anymore
    - name: randomized_gear
      disable:
      managed: true
    - name: starting_gear
      min_combo: 2
      max_combo: 6
      indiv_weights: !!omap
        - Telescope: 50%
        - Ballad of Gales: 95%
        - Song of Passing: 95%
        - Empty Bottle: 10%
        - ["Progressive Magic Meter", "Progressive Magic Meter"]: 2%
        - Progressive Shield: 5%
        - Magic Armor: 5%
        - Hurricane Spin: 5%
        - Hero's Charm: 10%
        - !!python/name:logic.item_types.DUNGEON_NONPROGRESS_ITEMS : 80%

default_both:
  name: Default (Progression & Difficulty)
  description: >
    The classic RSL experience, updated with new difficulty settings and a bit more challenge
  inherit:
    - default_progression
    - default_difficulty
  display_order: 1
  weights:
    - name: prioritize_remote_hints
      weight: 1
    - name: num_path_hints
      choices:
        6: 100%
    - name: num_barren_hints
      choices:
        6: 100%
    - name: num_location_hints
      choices:
        8: 100%
    - name: num_item_hints
      choices:
        0: 100%
    - name: sword_mode
      choices:
        Start with Hero's Sword: 55%
        No Starting Sword: 35%
        Swordless: 10%
    - name: starting_hcs
      choices:
        1: 5%
        2: 8%
        3: 50%
        4: 20%
        6: 12%
        9: 5%
    - name: hero_mode
      weight: 0
    # Override how progression_dungeons is chosen in progression+difficulty randomizer
    # to enforce the RSL rule that skip_rematch_bosses is always on if progression_dungeons is on
    - name: skip_rematch_bosses
      disable:
    - name: dungeons_combo
      tree:
        root:
          name: progression_dungeons
          weight: 80%
        branches:
          true:
            combo: [required_bosses, skip_rematch_bosses]
            choices: !!omap
              - [required_bosses, skip_rematch_bosses]: 90%
              - [skip_rematch_bosses]: 10%
          false:
            combo: [required_bosses, skip_rematch_bosses]
            choices: !!omap
              - [skip_rematch_bosses]: 75%
              - []: 25%
    - name: randomized_gear
      disable:
      managed: true
    - name: starting_gear
      min_combo: 2
      indiv_weights: !!omap
        - Telescope: 95%
        - Ballad of Gales: 98%
        - Song of Passing: 95%
        - !!python/name:logic.item_types.DUNGEON_NONPROGRESS_ITEMS : 80%

spring24async:
  name: Spring 2024 Async Event
  description: >
    Weights used for Spring 2024 Async Event seed #4 as well as April 2024 Asyncs<br>
    They are hopefully shorter than default settings and do not consider all options
  weights:
    - name: dungeons_combo
      tree:
        root:
          name: progression_dungeons
          weight: 80%
        branches:
          true:
            combo: [required_bosses, skip_rematch_bosses]
            choices: !!omap
              - [required_bosses, skip_rematch_bosses]: 90%
              - [skip_rematch_bosses]: 10%
          false:
            combo: [required_bosses, skip_rematch_bosses]
            choices: !!omap
              - [skip_rematch_bosses]: 75%
              - []: 25%
    - name: progression_puzzle_secret_caves
      weight: 50%
    - name: progression_combat_secret_caves
      weight: 50%
    - name: progression_savage_labyrinth
      weight: 0%
    - name: progression_great_fairies
      weight: 50%
    - name: progression_free_gifts
      weight: 80%
    - name: progression_misc
      weight: 50%
    - name: progression_tingle_chests
      weight: 50%
    - name: progression_dungeon_secrets
      weight: 50%
    - name: progression_short_sidequests
      weight: 50%
    - name: progression_long_sidequests
      weight: 20%
    - name: progression_spoils_trading
      weight: 0%
    - name: progression_mail
      weight: 50%
    - name: progression_minigames
      weight: 50%
    - name: progression_battlesquid
      weight: 20%
    - name: progression_expensive_purchases
      weight: 20%
    - name: progression_island_puzzles
      weight: 50%
    - name: progression_platforms_rafts
      weight: 30%
    - name: progression_submarines
      weight: 50%
    - name: progression_big_octos_gunboats
      weight: 20%
    - name: progression_eye_reef_chests
      weight: 30%
    - name: progression_triforce_charts
      weight: 20%
    - name: progression_treasure_charts
      weight: 0%
    - name: sword_mode
      choices:
        Start with Hero's Sword: 60%
        No Starting Sword: 35%
        Swordless: 5%
    - name: keylunacy
      weight: 40%
    - name: num_required_bosses
      choices:
        1: 5%
        2: 15%
        3: 25%
        4: 30%
        5: 15%
        6: 10%
    - name: num_starting_triforce_shards
      choices:
        0: 60%
        1: 9%
        2: 8%
        3: 8%
        4: 5%
        5: 5%
        6: 2%
        7: 2%
        8: 1%
    - name: randomize_charts
      weight: 50%
    - name: randomize_starting_island
      weight: 100%
    - name: chest_type_matches_contents
      weight: 100%
    - name: randomize_dungeon_entrances
      weight: 50%
    - name: randomize_boss_entrances
      weight: 50%
    - name: randomize_miniboss_entrances
      weight: 50%
    - name: randomize_secret_cave_entrances
      weight: 30%
    - name: randomize_secret_cave_inner_entrances
      weight: 30%
    - name: randomize_fairy_fountain_entrances
      weight: 50%
    - name: mix_entrances
      choices:
        Separate Dungeons From Caves & Fountains: 3/4
        Mix Dungeons & Caves & Fountains: 1/4
    - name: hint_placement
      combo:
        - fishmen_hints
        - hoho_hints
        - korl_hints
        - stone_tablet_hints
      choices: !!omap
        - ["korl_hints"]: 80%
        - ["hoho_hints"]: 20%
    - name: num_path_hints
      choices:
        6: 100%
    - name: num_barren_hints
      choices:
        6: 100%
    - name: num_location_hints
      choices:
        8: 100%
    - name: num_item_hints
      choices:
        0: 100%
    - name: cryptic_hints
      weight: 0%
    - name: prioritize_remote_hints
      weight: 100%
    - name: swift_sail
      weight: 100%
    - name: add_shortcut_warps_between_dungeons
      weight: 80%
    - name: num_extra_starting_items
      choices:
        0: 25%
        1: 40%
        2: 25%
        3: 10%
    - name: randomized_gear
      disable:
      managed: true
    - name: starting_gear
      indiv_weights: !!omap
        - ["Telescope", "Ballad of Gales", "Song of Passing"]: 100%
        - !!python/name:logic.item_types.DUNGEON_NONPROGRESS_ITEMS : 80%
    - name: starting_pohs
      choices: { 0: 100% }
    - name: starting_hcs
      choices: { 3: 100% }
    - name: trap_chests
      weight: 50%

guest_ofc2000alex:
  name: "Featured Guest: ofc2000alex"
  display_order: 2
  description: >
    Alex's submission for guest weights! Settings were rated on a 1-5 scale of
    fun and get a 10% to 50% weight accordingly.
  weights:
    - name: dungeons_combo
      combo:
        - progression_dungeons
        - required_bosses
        - skip_rematch_bosses
      choices: !!omap
        - ["progression_dungeons", "required_bosses", skip_rematch_bosses]: 50%
        - ["progression_dungeons"]: 5%
        - []: 45%
    - name: progression_great_fairies
      weight: 20%
    - name: progression_puzzle_secret_caves
      weight: 50%
    - name: progression_combat_secret_caves
      weight: 40%
    - name: progression_short_sidequests
      weight: 30%
    - name: progression_long_sidequests
      weight: 10%
    - name: progression_spoils_trading
      weight: 20%
    - name: progression_minigames
      weight: 10%
    - name: progression_free_gifts
      weight: 30%
    - name: progression_mail
      weight: 50%
    - name: progression_platforms_rafts
      weight: 20%
    - name: progression_submarines
      weight: 40%
    - name: progression_eye_reef_chests
      weight: 10%
    - name: progression_big_octos_gunboats
      weight: 20%
    - name: progression_triforce_charts
      weight: 20%
    - name: progression_treasure_charts
      weight: 10%
    - name: progression_expensive_purchases
      weight: 50%
    - name: progression_misc
      weight: 40%
    - name: progression_tingle_chests
      weight: 30%
    - name: progression_battlesquid
      weight: 30%
    - name: progression_savage_labyrinth
      weight: 50%
    - name: progression_island_puzzles
      weight: 50%
    - name: progression_dungeon_secrets
      weight: 40%

    - name: keylunacy
      weight: 30%
    - name: randomize_dungeon_entrances
      weight: 40%
    - name: randomize_secret_cave_entrances
      weight: 30%
    - name: randomize_secret_cave_inner_entrances
      weight: 20%
    - name: randomize_boss_entrances
      weight: 40%
    - name: randomize_miniboss_entrances
      weight: 40%
    - name: randomize_fairy_fountain_entrances
      weight: 10%
    - name: mix_entrances
      choices:
        "Separate Dungeons From Caves & Fountains": 50%
        "Mix Dungeons & Caves & Fountains": 50%
    - name: randomize_starting_island
      weight: 100%
    - name: chest_type_matches_contents
      weight: 100%
    - name: prioritize_remote_hints
      weight: 100%
    - name: num_starting_triforce_shards
      choices:
        0: 10%
        1: 10%
        2: 10%
        3: 10%
        4: 10%
        5: 10%
        6: 10%
        7: 10%
        8: 20%
    - name: sword_mode
      choices:
        "Start with Hero's Sword": 20%
        "No Starting Sword": 60%
        "Swordless": 20%
    - name: num_required_bosses
      choices:
        1: 10%
        2: 20%
        3: 20%
        4: 20%
        5: 20%
        6: 10%
    - name: trap_chests
      weight: 100%
    - name: hint_placement
      combo: ["fishmen_hints", "hoho_hints", "korl_hints", "stone_tablet_hints"]
      choices: !!omap
        - ["hoho_hints"]: 50%
        - ["korl_hints"]: 50%
    - name: num_extra_starting_items
      choices:
        0: 45%
        1: 40%
        2: 10%
        3: 5%
    # When starting_gear is randomized, randomized_gear is also managed by the settings randomizer
    # and cannot be set by the user anymore
    - name: randomized_gear
      disable:
      managed: true
    - name: starting_gear
      indiv_weights: !!omap
        - ["Telescope", "Ballad of Gales"]: 100%
        - !!python/name:logic.item_types.DUNGEON_NONPROGRESS_ITEMS : 80%
    - name: num_path_hints
      choices:
        2: 1/3
        3: 1/3
        4: 1/3
    - name: num_barren_hints
      choices:
        2: 1/3
        3: 1/3
        4: 1/3
    - name: num_location_hints
      choices:
        2: 1/3
        3: 1/3
        4: 1/3
    - name: num_item_hints
      choices:
        0: 100%
    - name: hero_mode
      weight: 30%

experimental_pairwise:
  name: Pairings (Experimental)
  display_order: 100 # At the end
  description: >
    All progression options have companions! In each pair, exactly one is enabled, the other disabled
  weights:
    - name: chest_type_matches_contents
      weight: 100%
    - name: hopefully dungeons
      tree:
        root:
          combo: [progression_dungeons, progression_treasure_charts]
          choices: !!omap
            - [progression_dungeons]: 90%
            - [progression_treasure_charts]: 10%
        branches: !!omap
          - [progression_dungeons]:
              name: bosses + shards + 2 = 8
              combo: [required_bosses, num_required_bosses, num_starting_triforce_shards]
              choices: !!omap
                - { required_bosses: False, num_required_bosses: 0, num_starting_triforce_shards: 6 }: 1/7
                - { required_bosses: True, num_required_bosses: 1, num_starting_triforce_shards: 5 }: 1/7
                - { required_bosses: True, num_required_bosses: 2, num_starting_triforce_shards: 4 }: 1/7
                - { required_bosses: True, num_required_bosses: 3, num_starting_triforce_shards: 3 }: 1/7
                - { required_bosses: True, num_required_bosses: 4, num_starting_triforce_shards: 2 }: 1/7
                - { required_bosses: True, num_required_bosses: 5, num_starting_triforce_shards: 1 }: 1/7
                - { required_bosses: True, num_required_bosses: 6, num_starting_triforce_shards: 0 }: 1/7
          - [progression_treasure_charts]:
              combo: [required_bosses, num_required_bosses, num_starting_triforce_shards]
              choices: !!omap
                - { required_bosses: False, num_required_bosses: 0, num_starting_triforce_shards: 6 }: 1
    - name: optional_inner_dungeon
      combo: [progression_dungeon_secrets, progression_tingle_chests]
      choices: !!omap
        - [progression_dungeon_secrets]: 50%
        - [progression_tingle_chests]: 50%
    - name: caves
      combo: [progression_puzzle_secret_caves, progression_combat_secret_caves]
      choices: !!omap
        - [progression_puzzle_secret_caves]: 50%
        - [progression_combat_secret_caves]: 50%
    - name: island_freestanding
      combo: [progression_island_puzzles, progression_misc]
      choices: !!omap
        - [progression_island_puzzles]: 50%
        - [progression_misc]: 50%
    - name: sidequests
      combo: [progression_short_sidequests, progression_long_sidequests]
      choices: !!omap
        - [progression_short_sidequests]: 3/4
        - [progression_long_sidequests]: 1/4
    - name: you'll need a wallet
      combo: [progression_expensive_purchases, progression_triforce_charts]
      choices: !!omap
        - [progression_expensive_purchases]: 60%
        - [progression_triforce_charts]: 40%
    - name: the squids
      combo: [progression_battlesquid, progression_big_octos_gunboats]
      choices: !!omap
        - [progression_battlesquid]: 50%
        - [progression_big_octos_gunboats]: 50%
    - name: savage or start without sword
      combo: [progression_savage_labyrinth, sword_mode]
      choices: !!omap
        - { progression_savage_labyrinth: True, sword_mode: "Start with Hero's Sword" }: 60%
        - { progression_savage_labyrinth: False, sword_mode: "No Starting Sword" }: 40%
    - name: reef-rafts
      combo: [progression_platforms_rafts, progression_eye_reef_chests]
      choices: !!omap
        - [progression_platforms_rafts]: 50%
        - [progression_eye_reef_chests]: 50%
    - name: the mail minigame
      combo: [progression_mail, progression_minigames]
      choices: !!omap
        - [progression_mail]: 50%
        - [progression_minigames]: 50%
    - name: do you know the fairy colors?
      combo: [progression_great_fairies, randomize_fairy_fountain_entrances]
      choices: !!omap
        - [progression_great_fairies]: 60%
        - [randomize_fairy_fountain_entrances]: 40%
    - name: don't look a gifted spoil in the mouth
      combo: [progression_free_gifts, progression_spoils_trading]
      choices: !!omap
        - [progression_free_gifts]: 80%
        - [progression_spoils_trading]: 20%
    - name: trapped subs
      combo: [progression_submarines, trap_chests]
      choices: !!omap
        - [progression_submarines]: 50%
        - [trap_chests]: 50%
    - combo: [randomize_boss_entrances, skip_rematch_bosses]
      choices: !!omap
        - [randomize_boss_entrances, skip_rematch_bosses]: 75%
        - []: 25%
    - combo: [mix_entrances, add_shortcut_warps_between_dungeons]
      choices: !!omap
        - { mix_entrances: Separate Dungeons From Caves & Fountains, add_shortcut_warps_between_dungeons: False }: 50%
        - { mix_entrances: Mix Dungeons & Caves & Fountains, add_shortcut_warps_between_dungeons: True }: 50%
    - combo: [keylunacy, randomize_dungeon_entrances]
      choices: !!omap
        - [keylunacy]: 50%
        - [randomize_dungeon_entrances]: 50%
    - name: whatever's left
      tree:
        root:
          name: num_extra_starting_items
          choices:
            0: 40%
            1: 30%
            2: 20%
            3: 10%
        branches:
          3:
            combo:
              [randomize_miniboss_entrances, randomize_secret_cave_entrances, randomize_secret_cave_inner_entrances]
            choices: !!omap
              - [randomize_miniboss_entrances, randomize_secret_cave_entrances, randomize_secret_cave_inner_entrances]:
                  1
          2:
            combo:
              [randomize_miniboss_entrances, randomize_secret_cave_entrances, randomize_secret_cave_inner_entrances]
            choices: !!omap
              - [randomize_secret_cave_entrances, randomize_secret_cave_inner_entrances]: 1/3
              - [randomize_miniboss_entrances, randomize_secret_cave_inner_entrances]: 1/3
              - [randomize_miniboss_entrances, randomize_secret_cave_entrances]: 1/3
          1:
            combo:
              [randomize_miniboss_entrances, randomize_secret_cave_entrances, randomize_secret_cave_inner_entrances]
            choices: !!omap
              - [randomize_miniboss_entrances]: 1/3
              - [randomize_secret_cave_entrances]: 1/3
              - [randomize_secret_cave_inner_entrances]: 1/3
          0:
            combo:
              [randomize_miniboss_entrances, randomize_secret_cave_entrances, randomize_secret_cave_inner_entrances]
            choices: !!omap
              - []: 1
